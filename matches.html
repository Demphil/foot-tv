<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>مباريات كرة القدم</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="stylesheet" href="assets/css/matches.css">
    <link rel="icon" href="assets/images/favicon.ico">
</head>
<body>
    <!-- Header Section -->
    <header class="header">
        <div class="container">
            <div class="logo">
                <a href="index.html">
                    <img src="assets/images/logo.png" alt="شعار الموقع">
                    <span>كرة القدم</span>
                </a>
            </div>
            <nav class="main-nav">
                <ul>
                    <li><a href="index.html"><i class="fas fa-home"></i> الرئيسية</a></li>
                    <li><a href="matches.html" class="active"><i class="fas fa-futbol"></i> المباريات</a></li>
                    <li><a href="news.html"><i class="fas fa-newspaper"></i> الأخبار</a></li>
                </ul>
            </nav>
            <div class="mobile-menu-btn">
                <i class="fas fa-bars"></i>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="matches-main">
        <div class="container">
            <h1><i class="fas fa-futbol"></i> جدول المباريات</h1>
            
            <!-- Filter Section -->
            <div class="filters">
                <div class="date-filter">
                    <button id="today-btn" class="active">اليوم</button>
                    <button id="tomorrow-btn">غداً</button>
                    <button id="week-btn">هذا الأسبوع</button>
                </div>
                <div class="league-filter">
                    <select id="league-select">
                        <option value="all">كل البطولات</option>
                        <!-- سيتم ملؤها بواسطة JavaScript -->
                    </select>
                </div>
            </div>

            <!-- Matches Containers -->
            <div id="today-matches" class="matches-container">
                <div class="loading">
                    <i class="fas fa-spinner fa-spin"></i> جاري تحميل مباريات اليوم...
                </div>
            </div>

            <div id="tomorrow-matches" class="matches-container">
                <div class="loading">
                    <i class="fas fa-spinner fa-spin"></i> جاري تحميل مباريات الغد...
                </div>
            </div>

            <!-- Error Container -->
            <div id="error-container" class="error-container" style="display: none;"></div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; <span id="current-year"></span> موقع مباريات كرة القدم. جميع الحقوق محفوظة.</p>
        </div>
    </footer>

    <!-- Scripts -->
    <script type="module">
        // تهيئة البيئة
        window.ENV = {
            RAPIDAPI_KEY: '795f377634msh4be097ebbb6dce3p1bf238jsn583f1b9cf438'
        };

        // استيراد FootballAPI
        import { FootballAPI } from './assets/js/api.js';
        import { MatchRenderer } from './assets/js/matches.js';

        // تحديث سنة حقوق النشر
        document.getElementById('current-year').textContent = new Date().getFullYear();

        // تهيئة التطبيق
        document.addEventListener('DOMContentLoaded', () => {
            MatchRenderer.init();
            
            // للاختبار (يمكن حذفها لاحقاً)
            FootballAPI.getMatchesByDate('2023-07-20')
                .then(data => console.log('Test API call:', data))
                .catch(error => console.error('Test API error:', error));
        });
    </script>
</body>
</html>
